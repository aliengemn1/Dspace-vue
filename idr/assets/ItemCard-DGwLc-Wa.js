import{u as p}from"./i18n-CCTaJ8OG.js";import{c as f,y,B as v,l as m,q as g,m as e,k as d,I as b,t as l,K as C,p as N}from"./vue-vendor-CZlwpbXF.js";import{_ as x}from"./index-BAXmnS_s.js";const k=["٠","١","٢","٣","٤","٥","٦","٧","٨","٩"];function _(t){return t==null?"":String(t).replace(/[0-9]/g,r=>k[parseInt(r)])}function c(t,r="ar",a={}){if(t==null)return"";const o=typeof t=="string"?parseFloat(t):t;if(isNaN(o))return String(t);const s=r==="ar"?"ar-SA":"en-US";return new Intl.NumberFormat(s,{useGrouping:!0,...a}).format(o)}function w(t,r="ar"){if(t==null)return"";const a=typeof t=="string"?parseFloat(t):t;if(isNaN(a))return String(t);if(a>=1e6){const o=(a/1e6).toFixed(1),s=r==="ar"?"م+":"M+";return c(parseFloat(o),r)+s}else if(a>=1e3){const o=(a/1e3).toFixed(0),s=r==="ar"?"ألف+":"K+";return c(parseFloat(o),r)+s}return c(a,r)}function B(t,r="ar",a={}){if(!t)return"";const o=t instanceof Date?t:new Date(t);if(isNaN(o.getTime()))return String(t);const s=r==="ar"?"ar-SA":"en-US";return new Intl.DateTimeFormat(s,{year:"numeric",month:"long",day:"numeric",...a}).format(o)}function F(t,r="ar"){return t?c(parseInt(t),r):""}function I(){const{locale:t}=p(),r=(n,i={})=>c(n,t.value,i),a=n=>w(n,t.value),o=(n,i={})=>B(n,t.value,i),s=n=>F(n,t.value),u=f(()=>t.value==="ar");return{formatNumber:r,formatCompactNumber:a,formatDate:o,formatYear:s,toArabicNumerals:_,isArabic:u,locale:t}}const S={class:"item-thumbnail"},A=["src","alt"],D={key:1,class:"thumbnail-placeholder"},z={class:"item-content"},V={class:"item-title"},$={class:"item-meta"},Y={class:"item-author"},M={class:"author-avatar"},j={class:"author-name"},q={class:"item-date"},E={class:"item-collection"},H={__name:"ItemCard",props:{item:{type:Object,required:!0},compact:{type:Boolean,default:!1}},setup(t){const{formatYear:r}=I(),a=t,o={"رسالة ماجستير":"#006C35","رسالة دكتوراه":"#1B4D3E","بحث علمي":"#17A2B8",كتاب:"#C8A415",مقال:"#6F42C1",default:"#757575"},s=f(()=>o[a.item.type]||o.default),u=f(()=>{if(!a.item.author)return"?";const n=a.item.author.split(" ");return n.length>=2?n[0].charAt(0)+n[n.length-1].charAt(0):n[0].charAt(0)});return(n,i)=>{const h=y("router-link");return m(),v(h,{to:`/item/${t.item.id}`,class:N(["item-card",{"item-card-compact":t.compact}])},{default:g(()=>[e("div",S,[t.item.thumbnail?(m(),d("img",{key:0,src:t.item.thumbnail,alt:t.item.title,loading:"lazy"},null,8,A)):(m(),d("div",D,[...i[0]||(i[0]=[e("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},[e("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e("polyline",{points:"14 2 14 8 20 8"}),e("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e("polyline",{points:"10 9 9 9 8 9"})],-1)])]))]),e("div",z,[e("span",{class:"item-type",style:b({backgroundColor:s.value})},l(t.item.type),5),e("h3",V,l(t.item.title),1),e("div",$,[e("div",Y,[e("span",M,l(u.value),1),e("span",j,l(t.item.author),1)]),e("span",q,l(C(r)(t.item.date)),1)]),e("div",E,[i[1]||(i[1]=e("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})],-1)),e("span",null,l(t.item.collection),1)])])]),_:1},8,["to","class"])}}},U=x(H,[["__scopeId","data-v-24725b63"]]);export{U as I,I as u};
