import{r,c as x,o as z,k as i,m as e,n as p,j as L,t as l,F as k,A as M,B as y,u as N,J as F,l as s}from"./vue-vendor-CZlwpbXF.js";import{u as H}from"./i18n-CCTaJ8OG.js";import{B as R}from"./Breadcrumb-BCSQGoOZ.js";import{I as S}from"./ItemCard-DGwLc-Wa.js";import{P as $}from"./Pagination-CYeSEOLn.js";import{d as w}from"./dspace-oOyns0sE.js";import{_ as j}from"./index-BAXmnS_s.js";import"./utils-B9ygI19o.js";const A={class:"collection-view"},D={class:"breadcrumb-section"},E={class:"container"},J={key:0,class:"loading-container"},K={class:"collection-header"},T={class:"container"},q={class:"header-content"},G={class:"header-text"},O={class:"collection-name"},Q={key:0,class:"collection-description"},U={class:"collection-meta"},W={class:"meta-item"},X={class:"items-section"},Y={class:"container"},Z={class:"section-title"},ee={key:0,class:"items-grid"},te={key:1,class:"empty-state"},oe={__name:"CollectionView",setup(se){const C=F(),{t:u}=H(),a=r(null),n=r([]),m=r(!0),v=r(1),d=r(1),b=x(()=>{var t;return[{label:u("nav.home"),path:"/"},{label:u("nav.collections"),path:"/communities"},{label:((t=a.value)==null?void 0:t.name)||u("collection.title"),path:null}]}),B={id:"1",name:"رسائل جامعة الملك سعود",description:"رسائل الماجستير والدكتوراه المقدمة لجامعة الملك سعود في مختلف التخصصات",itemCount:15e3},I=[{id:1,title:"أثر استخدام تقنيات الذكاء الاصطناعي في تطوير خدمات المكتبات",author:"أحمد محمد السعيد",date:"2024",type:"رسالة ماجستير",collection:"رسائل جامعة الملك سعود"},{id:2,title:"تقييم جودة الخدمات المكتبية في المكتبات الجامعية السعودية",author:"سارة عبدالله الحمد",date:"2024",type:"رسالة دكتوراه",collection:"رسائل جامعة الملك سعود"},{id:3,title:"دور المكتبات الرقمية في دعم التعلم عن بعد",author:"محمد علي الشهري",date:"2023",type:"رسالة ماجستير",collection:"رسائل جامعة الملك سعود"}];async function _(){var t,o,c,g;m.value=!0;try{const h=C.params.id;a.value=await w.getById(h);const f=await w.getItems(h,{page:v.value-1,size:12});n.value=((c=(o=(t=f._embedded)==null?void 0:t.searchResult)==null?void 0:o._embedded)==null?void 0:c.objects)||[],d.value=((g=f.page)==null?void 0:g.totalPages)||1}catch{a.value=B,n.value=I,d.value=1}finally{m.value=!1}}function V(t){v.value=t,_()}function P(t){return t>=1e3?(t/1e3).toFixed(0)+"K+":t.toLocaleString("ar-SA")}return z(()=>{_()}),(t,o)=>(s(),i("div",A,[e("div",D,[e("div",E,[L(R,{items:b.value},null,8,["items"])])]),m.value?(s(),i("div",J,[o[0]||(o[0]=e("div",{class:"spinner"},null,-1)),e("p",null,l(t.$t("common.loading")),1)])):a.value?(s(),i(k,{key:1},[e("div",K,[e("div",T,[e("div",q,[o[2]||(o[2]=e("div",{class:"header-icon"},[e("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})])],-1)),e("div",G,[e("h1",O,l(a.value.name),1),a.value.description?(s(),i("p",Q,l(a.value.description),1)):p("",!0),e("div",U,[e("span",W,[o[1]||(o[1]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"})],-1)),M(" "+l(P(a.value.itemCount||n.value.length))+" "+l(t.$t("browse.items")),1)])])])])])]),e("div",X,[e("div",Y,[e("h2",Z,l(t.$t("collection.recentItems")),1),n.value.length>0?(s(),i("div",ee,[(s(!0),i(k,null,N(n.value,c=>(s(),y(S,{key:c.id,item:c},null,8,["item"]))),128))])):(s(),i("div",te,[...o[3]||(o[3]=[e("div",{class:"empty-icon"},[e("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},[e("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e("polyline",{points:"14 2 14 8 20 8"})])],-1),e("p",null,"لا توجد عناصر في هذه المجموعة",-1)])])),d.value>1?(s(),y($,{key:2,"current-page":v.value,"total-pages":d.value,onPageChange:V},null,8,["current-page","total-pages"])):p("",!0)])])],64)):p("",!0)]))}},me=j(oe,[["__scopeId","data-v-7de260ba"]]);export{me as default};
