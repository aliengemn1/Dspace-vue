import{r,c as P,o as V,J as $,w as q,k as n,m as a,j as I,t as l,F as m,u as g,B as j,n as L,z as E,l as o,p as N}from"./vue-vendor-CZlwpbXF.js";import{u as T}from"./i18n-CCTaJ8OG.js";import{B as x}from"./Breadcrumb-BCSQGoOZ.js";import{P as D}from"./Pagination-CYeSEOLn.js";import{b as F}from"./dspace-oOyns0sE.js";import{_ as H}from"./index-BAXmnS_s.js";import"./utils-B9ygI19o.js";const R={class:"browse-view"},S={class:"breadcrumb-section"},A={class:"container"},J={class:"browse-header"},G={class:"container"},K={class:"page-title"},O={class:"browse-tabs"},Q=["onClick"],U={width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},W=["d"],X={class:"browse-content"},Y={class:"container"},Z={key:0,class:"loading-container"},ee={key:1,class:"entries-grid"},ae=["onClick"],te={class:"entry-value"},se={class:"entry-count"},oe={__name:"BrowseView",setup(ne){const b=$(),p=E(),{t:u}=T(),s=r("author"),h=r([]),_=r(!1),i=r(1),v=r(1),w=[{id:"author",label:u("browse.byAuthor"),icon:"users"},{id:"subject",label:u("browse.bySubject"),icon:"tag"},{id:"dateissued",label:u("browse.byDate"),icon:"calendar"},{id:"type",label:u("browse.byType"),icon:"layers"}],y={users:"M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2 M9 7a4 4 0 100 8 4 4 0 000-8z",tag:"M20.59 13.41l-7.17 7.17a2 2 0 01-2.83 0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z M7 7h.01",calendar:"M19 4H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V6a2 2 0 00-2-2z M16 2v4 M8 2v4 M3 10h18",layers:"M12 2L2 7l10 5 10-5-10-5z M2 17l10 5 10-5 M2 12l10 5 10-5"},f=P(()=>[{label:u("nav.home"),path:"/"},{label:u("nav.browse"),path:"/browse"}]),k={author:[{value:"محمد عبدالله الشمري",count:15},{value:"فاطمة أحمد العتيبي",count:12},{value:"خالد سعد القحطاني",count:10},{value:"نورة محمد الدوسري",count:8},{value:"عبدالرحمن علي المالكي",count:7},{value:"سارة عبدالعزيز الحربي",count:6},{value:"أحمد محمد الغامدي",count:5},{value:"منال سعود العنزي",count:5}],subject:[{value:"المكتبات والمعلومات",count:45},{value:"التحول الرقمي",count:38},{value:"المخطوطات الإسلامية",count:32},{value:"إدارة المعرفة",count:28},{value:"التراث الثقافي",count:25},{value:"الفهرسة والتصنيف",count:22},{value:"البحث العلمي",count:20},{value:"الأرشفة الإلكترونية",count:18}],dateissued:[{value:"2024",count:125},{value:"2023",count:340},{value:"2022",count:280},{value:"2021",count:195},{value:"2020",count:165}],type:[{value:"رسالة ماجستير",count:35e3},{value:"رسالة دكتوراه",count:25e3},{value:"بحث علمي",count:15e3},{value:"كتاب",count:8e3},{value:"مقال",count:5e3},{value:"تقرير",count:2e3}]};async function d(){var e,c;_.value=!0;try{const t=await F.byIndex(s.value,{page:i.value-1,size:20});h.value=((e=t._embedded)==null?void 0:e.entries)||[],v.value=((c=t.page)==null?void 0:c.totalPages)||1}catch{h.value=k[s.value]||[],v.value=1}finally{_.value=!1}}function M(e){s.value=e,i.value=1,p.push({query:{type:e}}),d()}function B(e){i.value=e,d()}function C(e){p.push({path:"/search",query:{[`f.${s.value}`]:e.value}})}return V(()=>{b.query.type&&(s.value=b.query.type),d()}),q(()=>b.query.type,e=>{e&&e!==s.value&&(s.value=e,d())}),(e,c)=>(o(),n("div",R,[a("div",S,[a("div",A,[I(x,{items:f.value},null,8,["items"])])]),a("div",J,[a("div",G,[a("h1",K,l(e.$t("browse.title")),1),a("div",O,[(o(),n(m,null,g(w,t=>a("button",{key:t.id,class:N(["browse-tab",{active:s.value===t.id}]),onClick:z=>M(t.id)},[(o(),n("svg",U,[a("path",{d:y[t.icon]},null,8,W)])),a("span",null,l(t.label),1)],10,Q)),64))])])]),a("div",X,[a("div",Y,[_.value?(o(),n("div",Z,[c[0]||(c[0]=a("div",{class:"spinner"},null,-1)),a("p",null,l(e.$t("common.loading")),1)])):(o(),n("div",ee,[(o(!0),n(m,null,g(h.value,t=>(o(),n("button",{key:t.value,class:"entry-card",onClick:z=>C(t)},[a("span",te,l(t.value),1),a("span",se,l(t.count)+" "+l(e.$t("browse.items")),1)],8,ae))),128))])),v.value>1?(o(),j(D,{key:2,"current-page":i.value,"total-pages":v.value,onPageChange:B},null,8,["current-page","total-pages"])):L("",!0)])])]))}},be=H(oe,[["__scopeId","data-v-4ceb9a3b"]]);export{be as default};
