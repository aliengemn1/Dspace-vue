import{u as v}from"./i18n-CZH2hkgn.js";import{c as m,r as b,y as C,B as N,l as _,q as y,m as o,p as h,I,t as c,O as A}from"./vue-vendor-yx-9Zx-6.js";import{_ as F}from"./index-C9hMAXH0.js";const S=["٠","١","٢","٣","٤","٥","٦","٧","٨","٩"];function x(t){return t==null?"":String(t).replace(/[0-9]/g,r=>S[parseInt(r)])}function u(t,r="ar",e={}){if(t==null)return"";const a=typeof t=="string"?parseFloat(t):t;if(isNaN(a))return String(t);const n=r==="ar"?"ar-SA":"en-US";return new Intl.NumberFormat(n,{useGrouping:!0,...e}).format(a)}function B(t,r="ar"){if(t==null)return"";const e=typeof t=="string"?parseFloat(t):t;if(isNaN(e))return String(t);if(e>=1e6){const a=(e/1e6).toFixed(1),n=r==="ar"?"م+":"M+";return u(parseFloat(a),r)+n}else if(e>=1e3){const a=(e/1e3).toFixed(0),n=r==="ar"?"ألف+":"K+";return u(parseFloat(a),r)+n}return u(e,r)}function D(t,r="ar",e={}){if(!t)return"";const a=t instanceof Date?t:new Date(t);if(isNaN(a.getTime()))return String(t);const n=r==="ar"?"ar-SA":"en-US";return new Intl.DateTimeFormat(n,{year:"numeric",month:"long",day:"numeric",...e}).format(a)}function k(t,r="ar"){return t?u(parseInt(t),r):""}function w(){const{locale:t}=v(),r=(s,l={})=>u(s,t.value,l),e=s=>B(s,t.value),a=(s,l={})=>D(s,t.value,l),n=s=>k(s,t.value),f=m(()=>t.value==="ar");return{formatNumber:r,formatCompactNumber:e,formatDate:a,formatYear:n,toArabicNumerals:x,isArabic:f,locale:t}}const E={class:"item-thumbnail"},U=["src","alt"],$={class:"item-content"},z={class:"item-title"},T={class:"item-meta"},V={class:"item-author"},Y={class:"author-avatar"},M={class:"author-name"},O={class:"item-date"},j={class:"item-collection"},q="/images/kfnl-logo.png",H={__name:"ItemCard",props:{item:{type:Object,required:!0},compact:{type:Boolean,default:!1}},setup(t){const{formatYear:r}=w(),e=t,a=b(!1),n=m(()=>a.value||!e.item.thumbnail?q:e.item.thumbnail);function f(){a.value=!0}const s={"رسالة ماجستير":"#006C35","رسالة دكتوراه":"#1B4D3E","بحث علمي":"#17A2B8",كتاب:"#C8A415",مقال:"#6F42C1",default:"#757575"},l=m(()=>s[e.item.type]||s.default),p=m(()=>{if(!e.item.author)return"?";const i=e.item.author.split(" ");return i.length>=2?i[0].charAt(0)+i[i.length-1].charAt(0):i[0].charAt(0)});return(i,d)=>{const g=C("router-link");return _(),N(g,{to:`/item/${t.item.id}`,class:h(["item-card",{"item-card-compact":t.compact}])},{default:y(()=>[o("div",E,[o("img",{src:n.value,alt:t.item.title,loading:"lazy",onError:f,class:h({"is-default-logo":!t.item.thumbnail||a.value})},null,42,U)]),o("div",$,[o("span",{class:"item-type",style:I({backgroundColor:l.value})},c(t.item.type),5),o("h3",z,c(t.item.title),1),o("div",T,[o("div",V,[o("span",Y,c(p.value),1),o("span",M,c(t.item.author),1)]),o("span",O,c(A(r)(t.item.date)),1)]),o("div",j,[d[0]||(d[0]=o("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})],-1)),o("span",null,c(t.item.collection),1)])])]),_:1},8,["to","class"])}}},J=F(H,[["__scopeId","data-v-06577108"]]);export{J as I,w as u};
