import{r as u,c as k,o as B,k as c,m as t,n as b,j as V,t as s,F as h,x,A as p,u as M,J as $,y as I,l as n,B as N,q as H}from"./vue-vendor-CZlwpbXF.js";import{u as L}from"./i18n-CCTaJ8OG.js";import{B as S}from"./Breadcrumb-BCSQGoOZ.js";import{c as _}from"./dspace-oOyns0sE.js";import{_ as z}from"./index-BAXmnS_s.js";import"./utils-B9ygI19o.js";const F={class:"community-view"},A={class:"breadcrumb-section"},R={class:"container"},j={key:0,class:"loading-container"},q={class:"community-header"},D={class:"container"},E={class:"header-content"},J={class:"header-text"},K={class:"community-name"},T={class:"community-description"},G={class:"community-meta"},O={class:"meta-item"},P={class:"meta-item"},Q={class:"collections-section"},U={class:"container"},W={class:"section-title"},X={class:"collections-grid"},Y={class:"collection-info"},Z={class:"collection-name"},tt={class:"collection-count"},ot={__name:"CommunityView",setup(et){const f=$(),{t:r}=L(),i=u(null),a=u([]),d=u(!0),w=k(()=>{var e;return[{label:r("nav.home"),path:"/"},{label:r("nav.communities"),path:"/communities"},{label:((e=i.value)==null?void 0:e.name)||r("community.title"),path:null}]}),y={id:"1",name:"الرسائل العلمية",description:"رسائل الماجستير والدكتوراه من مختلف الجامعات السعودية. تشمل هذه المجموعة الرسائل العلمية في مختلف التخصصات العلمية والإنسانية.",itemCount:6e4},C=[{id:"1",name:"رسائل جامعة الملك سعود",itemCount:15e3},{id:"2",name:"رسائل جامعة الملك عبدالعزيز",itemCount:12e3},{id:"3",name:"رسائل جامعة أم القرى",itemCount:1e4},{id:"4",name:"رسائل جامعة الإمام",itemCount:8e3},{id:"5",name:"رسائل جامعة الملك فهد للبترول",itemCount:7e3},{id:"6",name:"رسائل الجامعات الأخرى",itemCount:8e3}];async function g(){var e;d.value=!0;try{const o=f.params.id;i.value=await _.getById(o);const m=await _.getCollections(o);a.value=((e=m._embedded)==null?void 0:e.collections)||[]}catch{i.value=y,a.value=C}finally{d.value=!1}}function v(e){return e>=1e3?(e/1e3).toFixed(0)+"K+":e.toLocaleString("ar-SA")}return B(()=>{g()}),(e,o)=>{const m=I("router-link");return n(),c("div",F,[t("div",A,[t("div",R,[V(S,{items:w.value},null,8,["items"])])]),d.value?(n(),c("div",j,[o[0]||(o[0]=t("div",{class:"spinner"},null,-1)),t("p",null,s(e.$t("common.loading")),1)])):i.value?(n(),c(h,{key:1},[t("div",q,[t("div",D,[t("div",E,[o[3]||(o[3]=x('<div class="header-icon" data-v-702547f7><svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-702547f7><path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2" data-v-702547f7></path><circle cx="9" cy="7" r="4" data-v-702547f7></circle><path d="M23 21v-2a4 4 0 00-3-3.87" data-v-702547f7></path><path d="M16 3.13a4 4 0 010 7.75" data-v-702547f7></path></svg></div>',1)),t("div",J,[t("h1",K,s(i.value.name),1),t("p",T,s(i.value.description),1),t("div",G,[t("span",O,[o[1]||(o[1]=t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"})],-1)),p(" "+s(v(i.value.itemCount||0))+" "+s(e.$t("browse.items")),1)]),t("span",P,[o[2]||(o[2]=t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})],-1)),p(" "+s(a.value.length)+" "+s(e.$t("browse.collections")),1)])])])])])]),t("div",Q,[t("div",U,[t("h2",W,s(e.$t("community.collections")),1),t("div",X,[(n(!0),c(h,null,M(a.value,l=>(n(),N(m,{key:l.id,to:`/collection/${l.id}`,class:"collection-card"},{default:H(()=>[o[4]||(o[4]=t("div",{class:"collection-icon"},[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})])],-1)),t("div",Y,[t("h3",Z,s(l.name),1),t("span",tt,s(v(l.itemCount||0))+" "+s(e.$t("browse.items")),1)]),o[5]||(o[5]=t("div",{class:"collection-arrow"},[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("polyline",{points:"9 18 15 12 9 6"})])],-1))]),_:2},1032,["to"]))),128))])])])],64)):b("",!0)])}}},rt=z(ot,[["__scopeId","data-v-702547f7"]]);export{rt as default};
