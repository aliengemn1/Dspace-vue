import{z as q,r as b,o as S,y as H,k as o,l as s,n as j,m as e,x,A as g,t as c,j as w,q as M,F as f,u as $,I as z,p as F,B as I,c as T}from"./vue-vendor-yx-9Zx-6.js";import{_ as C,S as U}from"./index-C9hMAXH0.js";import{u as L}from"./i18n-CZH2hkgn.js";import{s as A,i as E,u as k,a as N,c as O}from"./dspace-CvDgOV_T.js";import{u as K,I as R}from"./ItemCard-DZaC_vic.js";import"./utils-B9ygI19o.js";const P="/videos/hero-video.mp4",Q={key:0,class:"loading-screen"},W={class:"hero-background"},Y={class:"container"},Z={class:"hero-content"},G={class:"hero-badge"},J={id:"hero-title",class:"hero-title"},X={class:"hero-subtitle"},ee={class:"hero-description"},te={class:"hero-search"},se={class:"hero-quick-links"},oe={class:"quick-links-label"},ae={class:"particles-container","aria-hidden":"true"},ie={class:"floating-icons-container","aria-hidden":"true"},le={key:0,width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},ne={key:1,width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},re={key:2,width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},de={key:3,width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},ce={key:4,width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},ue={key:5,width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},ve={__name:"HeroSection",setup(V){const p=q(),m=b(""),h=b([]),y=b([]),_=b(null),n=b(!1);function r(){h.value=Array.from({length:20},(t,u)=>({id:u,x:Math.random()*100,y:Math.random()*100,size:Math.random()*4+2,duration:Math.random()*20+15,delay:Math.random()*5}))}function l(){const a=["book","scroll","graduation","document","archive","globe"];y.value=a.map((t,u)=>({id:u,type:t,x:10+u*15,y:Math.random()*60+20,duration:Math.random()*8+12,delay:u*.5}))}function d(a){a.trim()&&p.push({path:"/search",query:{q:a}})}function i(){p.push("/search?advanced=true")}return S(()=>{r(),l(),setTimeout(()=>{n.value=!0},1e3),_.value&&_.value.play().catch(()=>{console.log("Video autoplay was prevented on mount")})}),(a,t)=>{const u=H("router-link");return s(),o(f,null,[n.value?j("",!0):(s(),o("div",Q,[...t[1]||(t[1]=[e("div",{class:"loading-content"},[e("div",{class:"loading-spinner"}),e("p",{class:"loading-text"},"جارٍ التحميل...")],-1)])])),e("section",{class:F(["hero-section",{"is-loaded":n.value}]),"aria-labelledby":"hero-title"},[e("div",W,[e("video",{ref_key:"videoRef",ref:_,class:"hero-video",autoplay:"",muted:"",loop:"",playsinline:"",preload:"auto"},[...t[2]||(t[2]=[e("source",{src:P,type:"video/mp4"},null,-1),g(" Your browser does not support the video tag. ",-1)])],512),t[3]||(t[3]=e("div",{class:"hero-overlay"},null,-1))]),e("div",Y,[e("div",Z,[e("div",G,[t[4]||(t[4]=e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),e("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})],-1)),e("span",null,c(a.$t("header.subtitle")),1)]),e("h1",J,c(a.$t("home.hero.title")),1),e("p",X,c(a.$t("home.hero.subtitle")),1),e("p",ee,c(a.$t("home.hero.description")),1),e("div",te,[w(U,{modelValue:m.value,"onUpdate:modelValue":t[0]||(t[0]=v=>m.value=v),placeholder:a.$t("search.placeholder"),"show-advanced":!0,"show-categories":!0,onSearch:d,onAdvanced:i},null,8,["modelValue","placeholder"])]),e("div",se,[e("span",oe,c(a.$t("home.browse.title"))+":",1),w(u,{to:"/browse?type=author",class:"quick-link"},{default:M(()=>[g(c(a.$t("home.browse.byAuthor")),1)]),_:1}),w(u,{to:"/browse?type=subject",class:"quick-link"},{default:M(()=>[g(c(a.$t("home.browse.bySubject")),1)]),_:1}),w(u,{to:"/browse?type=date",class:"quick-link"},{default:M(()=>[g(c(a.$t("home.browse.byDate")),1)]),_:1}),w(u,{to:"/browse?type=type",class:"quick-link"},{default:M(()=>[g(c(a.$t("home.browse.byType")),1)]),_:1})])])]),e("div",ae,[(s(!0),o(f,null,$(h.value,v=>(s(),o("div",{key:v.id,class:"particle",style:z({left:`${v.x}%`,top:`${v.y}%`,width:`${v.size}px`,height:`${v.size}px`,animationDuration:`${v.duration}s`,animationDelay:`${v.delay}s`})},null,4))),128))]),e("div",ie,[(s(!0),o(f,null,$(y.value,v=>(s(),o("div",{key:v.id,class:F(["floating-icon",`icon-${v.type}`]),style:z({left:`${v.x}%`,top:`${v.y}%`,animationDuration:`${v.duration}s`,animationDelay:`${v.delay}s`})},[v.type==="book"?(s(),o("svg",le,[...t[5]||(t[5]=[e("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"},null,-1),e("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"},null,-1)])])):v.type==="scroll"?(s(),o("svg",ne,[...t[6]||(t[6]=[e("path",{d:"M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4"},null,-1),e("path",{d:"M19 17V5a2 2 0 0 0-2-2H4"},null,-1)])])):v.type==="graduation"?(s(),o("svg",re,[...t[7]||(t[7]=[e("path",{d:"M22 10v6M2 10l10-5 10 5-10 5z"},null,-1),e("path",{d:"M6 12v5c0 2 2 3 6 3s6-1 6-3v-5"},null,-1)])])):v.type==="document"?(s(),o("svg",de,[...t[8]||(t[8]=[e("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},null,-1),e("polyline",{points:"14 2 14 8 20 8"},null,-1),e("line",{x1:"16",y1:"13",x2:"8",y2:"13"},null,-1),e("line",{x1:"16",y1:"17",x2:"8",y2:"17"},null,-1)])])):v.type==="archive"?(s(),o("svg",ce,[...t[9]||(t[9]=[e("polyline",{points:"21 8 21 21 3 21 3 8"},null,-1),e("rect",{x:"1",y:"3",width:"22",height:"5"},null,-1),e("line",{x1:"10",y1:"12",x2:"14",y2:"12"},null,-1)])])):v.type==="globe"?(s(),o("svg",ue,[...t[10]||(t[10]=[e("circle",{cx:"12",cy:"12",r:"10"},null,-1),e("line",{x1:"2",y1:"12",x2:"22",y2:"12"},null,-1),e("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},null,-1)])])):j("",!0)],6))),128))]),t[11]||(t[11]=x('<div class="hero-decoration" data-v-25a2c2ed><div class="decoration-circle decoration-circle-1" data-v-25a2c2ed></div><div class="decoration-circle decoration-circle-2" data-v-25a2c2ed></div><div class="decoration-circle decoration-circle-3" data-v-25a2c2ed></div><div class="gold-accent-line" data-v-25a2c2ed></div></div><div class="hero-wave" data-v-25a2c2ed><svg viewBox="0 0 1440 120" preserveAspectRatio="none" data-v-25a2c2ed><path d="M0,64L48,69.3C96,75,192,85,288,80C384,75,480,53,576,48C672,43,768,53,864,64C960,75,1056,85,1152,85.3C1248,85,1344,75,1392,69.3L1440,64L1440,120L1392,120C1344,120,1248,120,1152,120C1056,120,960,120,864,120C768,120,672,120,576,120C480,120,384,120,288,120C192,120,96,120,48,120L0,120Z" fill="currentColor" data-v-25a2c2ed></path></svg></div>',2))],2)],64)}}},he=C(ve,[["__scopeId","data-v-25a2c2ed"]]),pe={class:"statistics-section","aria-labelledby":"stats-title"},me={class:"container"},_e={id:"stats-title",class:"sr-only"},ye={class:"stats-grid"},we={class:"stat-icon"},be={width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},ke=["d"],ge={class:"stat-content"},fe={class:"stat-value"},$e={class:"stat-label"},Me={__name:"StatisticsCards",setup(V){const{t:p}=L(),{formatCompactNumber:m}=K(),h=b([{id:"items",value:0,target:0,label:p("home.stats.items"),icon:"file-text",color:"#006C35"},{id:"communities",value:0,target:0,label:p("home.stats.communities"),icon:"folder",color:"#1B4D3E"},{id:"collections",value:0,target:0,label:p("home.stats.collections"),icon:"archive",color:"#C8A415"},{id:"downloads",value:0,target:0,label:p("home.stats.downloads"),icon:"download",color:"#17A2B8"}]),y={"file-text":"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z M14 2v6h6 M16 13H8 M16 17H8 M10 9H8",folder:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z",archive:"M21 8v13H3V8 M1 3h22v5H1z M10 12h4",download:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4 M7 10l5 5 5-5 M12 15V3"};function _(l,d=2e3){const i=performance.now(),a=l.value;function t(u){const v=u-i,B=Math.min(v/d,1),D=1-Math.pow(1-B,4);l.value=Math.floor(a+(l.target-a)*D),B<1&&requestAnimationFrame(t)}requestAnimationFrame(t)}function n(l){return m(l)}async function r(){try{const l=await A.getRepositorySummary(),d=await A.getSiteStats();h.value.find(i=>i.id==="items").target=l.items||0,h.value.find(i=>i.id==="communities").target=l.communities||0,h.value.find(i=>i.id==="collections").target=l.collections||0,h.value.find(i=>i.id==="downloads").target=d.totalDownloads||0}catch(l){console.error("Failed to fetch statistics:",l)}}return S(async()=>{await r(),h.value.forEach((l,d)=>{setTimeout(()=>{_(l,1500)},d*200)})}),(l,d)=>(s(),o("section",pe,[e("div",me,[e("h2",_e,c(l.$t("home.stats.title")),1),e("div",ye,[(s(!0),o(f,null,$(h.value,i=>(s(),o("div",{key:i.id,class:"stat-card",style:z({"--accent-color":i.color})},[e("div",we,[(s(),o("svg",be,[e("path",{d:y[i.icon]},null,8,ke)]))]),e("div",ge,[e("span",fe,c(n(i.value)),1),e("span",$e,c(i.label),1)])],4))),128))])])]))}},xe=C(Me,[["__scopeId","data-v-ede131ee"]]),Ce={class:"recent-items-section page-section","aria-labelledby":"recent-title"},Ve={class:"container"},Be={class:"section-header"},ze={class:"section-title-wrapper"},Se={id:"recent-title",class:"section-title"},He={key:0,class:"items-grid"},Ae={key:1,class:"empty-state"},Ie={class:"empty-text"},je={key:2,class:"empty-state"},Fe={key:3,class:"items-grid"},Le={__name:"RecentItems",setup(V){const p=b(!0),m=b([]),h=b(null);async function y(){var _,n,r;p.value=!0,h.value=null;try{const l=await E.getRecent(6);if((r=(n=(_=l._embedded)==null?void 0:_.searchResult)==null?void 0:n._embedded)!=null&&r.objects){const d=l._embedded.searchResult._embedded.objects.map(i=>{var t,u;const a=(t=i._embedded)==null?void 0:t.indexableObject;return a?{id:a.uuid,title:k.getMetadataValue(a.metadata,"dc.title")||"Untitled",author:k.getMetadataValue(a.metadata,"dc.contributor.author")||"Unknown Author",date:((u=k.getMetadataValue(a.metadata,"dc.date.issued"))==null?void 0:u.substring(0,4))||"",type:k.getMetadataValue(a.metadata,"dc.type")||"",collection:"",thumbnail:k.getThumbnailUrl(a)}:null}).filter(Boolean);m.value=d}else m.value=[]}catch(l){console.error("Failed to fetch recent items:",l),h.value=l.message||"فشل تحميل العناصر الحديثة",m.value=[]}finally{p.value=!1}}return S(()=>{y()}),(_,n)=>{const r=H("router-link");return s(),o("section",Ce,[e("div",Ve,[e("div",Be,[e("div",ze,[e("h2",Se,[n[0]||(n[0]=e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2",class:"section-icon"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("polyline",{points:"12 6 12 12 16 14"})],-1)),g(" "+c(_.$t("home.recent.title")),1)])]),w(r,{to:"/browse?sort=date",class:"view-all-link"},{default:M(()=>[g(c(_.$t("home.recent.viewAll"))+" ",1),n[1]||(n[1]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2",class:"arrow-icon"},[e("polyline",{points:"9 18 15 12 9 6"})],-1))]),_:1})]),p.value?(s(),o("div",He,[(s(),o(f,null,$(6,l=>e("div",{key:l,class:"skeleton-card"},[...n[2]||(n[2]=[x('<div class="skeleton skeleton-image" data-v-e8488c5e></div><div class="skeleton-content" data-v-e8488c5e><div class="skeleton skeleton-title" data-v-e8488c5e></div><div class="skeleton skeleton-text" data-v-e8488c5e></div><div class="skeleton skeleton-text" style="width:60%;" data-v-e8488c5e></div></div>',2)])])),64))])):h.value?(s(),o("div",Ae,[n[3]||(n[3]=x('<div class="empty-icon" data-v-e8488c5e><svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" data-v-e8488c5e><circle cx="12" cy="12" r="10" data-v-e8488c5e></circle><line x1="12" y1="8" x2="12" y2="12" data-v-e8488c5e></line><line x1="12" y1="16" x2="12.01" y2="16" data-v-e8488c5e></line></svg></div>',1)),e("p",Ie,c(h.value),1),e("button",{class:"btn btn-primary btn-sm",onClick:y},"إعادة المحاولة")])):m.value.length===0?(s(),o("div",je,[...n[4]||(n[4]=[x('<div class="empty-icon" data-v-e8488c5e><svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" data-v-e8488c5e><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" data-v-e8488c5e></path><polyline points="14 2 14 8 20 8" data-v-e8488c5e></polyline></svg></div><p class="empty-text" data-v-e8488c5e>لا توجد عناصر حديثة</p>',2)])])):(s(),o("div",Fe,[(s(!0),o(f,null,$(m.value,l=>(s(),I(R,{key:l.id,item:l},null,8,["item"]))),128))]))])])}}},Re=C(Le,[["__scopeId","data-v-e8488c5e"]]),De={class:"most-viewed-section page-section","aria-labelledby":"most-viewed-title"},qe={class:"container"},Te={class:"section-header"},Ue={class:"section-title-wrapper"},Ee={id:"most-viewed-title",class:"section-title"},Ne={key:0,class:"items-grid"},Oe={key:1,class:"empty-state"},Ke={class:"empty-text"},Pe={key:2,class:"empty-state"},Qe={key:3,class:"items-grid"},We={class:"views-badge"},Ye={__name:"MostViewed",setup(V){const p=b(!0),m=b([]),h=b(null);async function y(){var n,r,l;p.value=!0,h.value=null;try{const d=await N.query({page:0,size:6,sort:"dc.date.accessioned,DESC"});if((l=(r=(n=d._embedded)==null?void 0:n.searchResult)==null?void 0:r._embedded)!=null&&l.objects){const i=d._embedded.searchResult._embedded.objects.map(t=>{var v,B;const u=(v=t._embedded)==null?void 0:v.indexableObject;return u?{id:u.uuid,title:k.getMetadataValue(u.metadata,"dc.title")||"Untitled",author:k.getMetadataValue(u.metadata,"dc.contributor.author")||"Unknown Author",date:((B=k.getMetadataValue(u.metadata,"dc.date.issued"))==null?void 0:B.substring(0,4))||"",type:k.getMetadataValue(u.metadata,"dc.type")||"",collection:"",thumbnail:k.getThumbnailUrl(u),views:0}:null}).filter(Boolean),a=await Promise.all(i.map(async t=>{try{const u=await A.getItemStats(t.id);return{...t,views:u.views||0}}catch{return t}}));a.sort((t,u)=>u.views-t.views),m.value=a}else m.value=[]}catch(d){console.error("Failed to fetch most viewed items:",d),h.value=d.message||"فشل تحميل العناصر الأكثر مشاهدة",m.value=[]}finally{p.value=!1}}function _(n){return n>=1e3?(n/1e3).toFixed(1)+"K":n.toString()}return S(()=>{y()}),(n,r)=>{const l=H("router-link");return s(),o("section",De,[e("div",qe,[e("div",Te,[e("div",Ue,[e("h2",Ee,[r[0]||(r[0]=e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2",class:"section-icon"},[e("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e("circle",{cx:"12",cy:"12",r:"3"})],-1)),g(" "+c(n.$t("home.mostViewed.title")),1)])]),w(l,{to:"/browse?sort=views",class:"view-all-link"},{default:M(()=>[g(c(n.$t("home.mostViewed.viewAll"))+" ",1),r[1]||(r[1]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2",class:"arrow-icon"},[e("polyline",{points:"9 18 15 12 9 6"})],-1))]),_:1})]),p.value?(s(),o("div",Ne,[(s(),o(f,null,$(6,d=>e("div",{key:d,class:"skeleton-card"},[...r[2]||(r[2]=[x('<div class="skeleton skeleton-image" data-v-aeb16b73></div><div class="skeleton-content" data-v-aeb16b73><div class="skeleton skeleton-title" data-v-aeb16b73></div><div class="skeleton skeleton-text" data-v-aeb16b73></div><div class="skeleton skeleton-text" style="width:60%;" data-v-aeb16b73></div></div>',2)])])),64))])):h.value?(s(),o("div",Oe,[r[3]||(r[3]=x('<div class="empty-icon" data-v-aeb16b73><svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" data-v-aeb16b73><circle cx="12" cy="12" r="10" data-v-aeb16b73></circle><line x1="12" y1="8" x2="12" y2="12" data-v-aeb16b73></line><line x1="12" y1="16" x2="12.01" y2="16" data-v-aeb16b73></line></svg></div>',1)),e("p",Ke,c(h.value),1),e("button",{class:"btn btn-primary btn-sm",onClick:y},"إعادة المحاولة")])):m.value.length===0?(s(),o("div",Pe,[...r[4]||(r[4]=[x('<div class="empty-icon" data-v-aeb16b73><svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" data-v-aeb16b73><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" data-v-aeb16b73></path><circle cx="12" cy="12" r="3" data-v-aeb16b73></circle></svg></div><p class="empty-text" data-v-aeb16b73>لا توجد عناصر للعرض</p>',2)])])):(s(),o("div",Qe,[(s(!0),o(f,null,$(m.value,d=>(s(),o("div",{key:d.id,class:"viewed-item-card"},[w(R,{item:d},null,8,["item"]),e("div",We,[r[5]||(r[5]=e("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e("circle",{cx:"12",cy:"12",r:"3"})],-1)),e("span",null,c(_(d.views)),1)])]))),128))]))])])}}},Ze=C(Ye,[["__scopeId","data-v-aeb16b73"]]),Ge={class:"featured-section page-section","aria-labelledby":"featured-title"},Je={class:"container"},Xe={class:"section-header"},et={class:"section-title-wrapper"},tt={id:"featured-title",class:"section-title"},st={key:0,class:"collections-grid"},ot={key:1,class:"empty-state"},at={class:"empty-text"},it={key:2,class:"empty-state"},lt={key:3,class:"collections-grid"},nt={class:"collection-icon"},rt={width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},dt=["d"],ct={class:"collection-title"},ut={class:"collection-description"},vt={class:"collection-count"},ht={class:"count-value"},pt={class:"count-label"},mt={__name:"FeaturedCollections",setup(V){const p=b(!0),m=b([]),h=b(null),y=["#006C35","#C8A415","#17A2B8","#1B4D3E","#6F42C1","#E83E8C"],_={"graduation-cap":"M22 10v6M2 10l10-5 10 5-10 5z M6 12v5c3 3 9 3 12 0v-5",scroll:"M8 21h12a2 2 0 002-2v-2H10v2a2 2 0 11-4 0V5a2 2 0 112 2h12v12",newspaper:"M4 22h16a2 2 0 002-2V4a2 2 0 00-2-2H8a2 2 0 00-2 2v16a2 2 0 01-2 2zm0 0a2 2 0 01-2-2v-9c0-1.1.9-2 2-2h2 M18 14h-8 M15 18h-5 M10 6h8v4h-8z",library:"M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z",image:"M19 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V5a2 2 0 00-2-2z M8.5 10a1.5 1.5 0 100-3 1.5 1.5 0 000 3z M21 15l-5-5L5 21",headphones:"M3 18v-6a9 9 0 0118 0v6 M21 19a2 2 0 01-2 2h-1a2 2 0 01-2-2v-3a2 2 0 012-2h3zM3 19a2 2 0 002 2h1a2 2 0 002-2v-3a2 2 0 00-2-2H3z",folder:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"},n=Object.keys(_);function r(d){return d>=1e3?(d/1e3).toFixed(0)+"K+":d.toLocaleString("ar-SA")}async function l(){var d;p.value=!0,h.value=null;try{const i=await O.getAll({size:6});(d=i._embedded)!=null&&d.collections?m.value=i._embedded.collections.map((a,t)=>({id:a.uuid,title:k.getMetadataValue(a.metadata,"dc.title")||a.name||"Untitled",description:k.getMetadataValue(a.metadata,"dc.description.abstract")||k.getMetadataValue(a.metadata,"dc.description")||"",itemCount:a.archivedItemsCount||0,icon:n[t%n.length],color:y[t%y.length]})):m.value=[]}catch(i){console.error("Failed to fetch collections:",i),h.value=i.message||"فشل تحميل المجموعات",m.value=[]}finally{p.value=!1}}return S(()=>{l()}),(d,i)=>{const a=H("router-link");return s(),o("section",Ge,[e("div",Je,[e("div",Xe,[e("div",et,[e("h2",tt,[i[0]||(i[0]=e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2",class:"section-icon"},[e("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})],-1)),g(" "+c(d.$t("home.featured.title")),1)])]),w(a,{to:"/communities",class:"view-all-link"},{default:M(()=>[g(c(d.$t("home.featured.viewAll"))+" ",1),i[1]||(i[1]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2",class:"arrow-icon"},[e("polyline",{points:"9 18 15 12 9 6"})],-1))]),_:1})]),p.value?(s(),o("div",st,[(s(),o(f,null,$(6,t=>e("div",{key:t,class:"skeleton-collection"},[...i[2]||(i[2]=[e("div",{class:"skeleton skeleton-icon"},null,-1),e("div",{class:"skeleton skeleton-title"},null,-1),e("div",{class:"skeleton skeleton-text"},null,-1)])])),64))])):h.value?(s(),o("div",ot,[i[3]||(i[3]=x('<div class="empty-icon" data-v-179bcc16><svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" data-v-179bcc16><circle cx="12" cy="12" r="10" data-v-179bcc16></circle><line x1="12" y1="8" x2="12" y2="12" data-v-179bcc16></line><line x1="12" y1="16" x2="12.01" y2="16" data-v-179bcc16></line></svg></div>',1)),e("p",at,c(h.value),1),e("button",{class:"btn btn-primary btn-sm",onClick:l},"إعادة المحاولة")])):m.value.length===0?(s(),o("div",it,[...i[4]||(i[4]=[e("div",{class:"empty-icon"},[e("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},[e("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})])],-1),e("p",{class:"empty-text"},"لا توجد مجموعات للعرض",-1)])])):(s(),o("div",lt,[(s(!0),o(f,null,$(m.value,t=>(s(),I(a,{key:t.id,to:`/collection/${t.id}`,class:"collection-card",style:z({"--accent-color":t.color})},{default:M(()=>[e("div",nt,[(s(),o("svg",rt,[e("path",{d:_[t.icon]},null,8,dt)]))]),e("h3",ct,c(t.title),1),e("p",ut,c(t.description),1),e("div",vt,[e("span",ht,c(r(t.itemCount)),1),e("span",pt,c(d.$t("browse.items")),1)])]),_:2},1032,["to","style"]))),128))]))])])}}},_t=C(mt,[["__scopeId","data-v-179bcc16"]]),yt={class:"browse-section page-section","aria-labelledby":"browse-title"},wt={class:"container"},bt={class:"section-header text-center"},kt={id:"browse-title",class:"section-title"},gt={class:"browse-grid"},ft={class:"browse-icon"},$t={width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Mt=["d"],xt={class:"browse-content"},Ct={class:"browse-title"},Vt={class:"browse-description"},Bt={__name:"BrowseSection",setup(V){const{t:p}=L(),m=T(()=>[{id:"author",title:p("home.browse.byAuthor"),description:"استعرض المحتوى حسب أسماء المؤلفين والباحثين",icon:"users",path:"/browse?type=author",color:"#006C35"},{id:"subject",title:p("home.browse.bySubject"),description:"تصفح حسب الموضوعات والتخصصات العلمية",icon:"tag",path:"/browse?type=subject",color:"#17A2B8"},{id:"date",title:p("home.browse.byDate"),description:"استعرض المحتوى حسب تاريخ النشر",icon:"calendar",path:"/browse?type=date",color:"#C8A415"},{id:"type",title:p("home.browse.byType"),description:"تصفح حسب نوع المحتوى (رسائل، كتب، مقالات)",icon:"layers",path:"/browse?type=type",color:"#6F42C1"}]),h={users:"M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2 M23 21v-2a4 4 0 00-3-3.87 M16 3.13a4 4 0 010 7.75 M9 7a4 4 0 100 8 4 4 0 000-8z",tag:"M20.59 13.41l-7.17 7.17a2 2 0 01-2.83 0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z M7 7h.01",calendar:"M19 4H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V6a2 2 0 00-2-2z M16 2v4 M8 2v4 M3 10h18",layers:"M12 2L2 7l10 5 10-5-10-5z M2 17l10 5 10-5 M2 12l10 5 10-5"};return(y,_)=>{const n=H("router-link");return s(),o("section",yt,[e("div",wt,[e("div",bt,[e("h2",kt,c(y.$t("home.browse.title")),1),_[0]||(_[0]=e("p",{class:"section-subtitle"}," اختر طريقة التصفح المناسبة للوصول إلى المحتوى المطلوب ",-1))]),e("div",gt,[(s(!0),o(f,null,$(m.value,r=>(s(),I(n,{key:r.id,to:r.path,class:"browse-card",style:z({"--accent-color":r.color})},{default:M(()=>[e("div",ft,[(s(),o("svg",$t,[e("path",{d:h[r.icon]},null,8,Mt)]))]),e("div",xt,[e("h3",Ct,c(r.title),1),e("p",Vt,c(r.description),1)]),_[1]||(_[1]=e("div",{class:"browse-arrow"},[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("polyline",{points:"9 18 15 12 9 6"})])],-1))]),_:2},1032,["to","style"]))),128))])])])}}},zt=C(Bt,[["__scopeId","data-v-17846655"]]),St={class:"home-view"},Ht={__name:"HomeView",setup(V){return(p,m)=>(s(),o("div",St,[w(he),w(xe),w(Re),w(Ze),w(_t),w(zt)]))}},Dt=C(Ht,[["__scopeId","data-v-c62f6439"]]);export{Dt as default};
